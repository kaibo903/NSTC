# 地主都市更新全案管理試算平台

一個專為地主設計的都市更新評估工具，提供快速試算、法規查詢與決策建議。

## 專案簡介

本平台為「地主自建開發收益評估資訊系統」之 MVP，提供地主在都市更新初期，以最少輸入、最直覺的操作方式，完成五大構面試算並輸出評估報告。

### 核心功能

- 📊 **五大構面試算**：基本資料、建築面積、銷售面積、成本費用、評估報告
- 💰 **即時結果摘要**：右側固定顯示關鍵指標，隨時掌握試算結果
- 📄 **多格式匯出**：支援 PDF、Excel 格式匯出完整報告
- 🎯 **決策建議**：提供解釋模式與決策模式，協助地主做出判斷
- 📚 **引用知識庫**：每個指標可查看定義、公式與法規來源

## 技術架構

- **前端框架**：Vue 3 + TypeScript
- **建置工具**：Vite
- **UI 框架**：Element Plus
- **匯出功能**：jsPDF、xlsx
- **測試框架**：Vitest

## 快速開始

### 安裝依賴

```bash
npm install
```

### 開發模式

```bash
npm run dev
```

### 建置專案

```bash
npm run build
```

### 執行測試

```bash
npm test
```

## 專案結構

```
src/
├── components/          # Vue 組件
│   ├── steps/          # 五大步驟組件
│   ├── SummaryCard.vue # 結果摘要卡
│   └── DecisionRecommendation.vue # 決策建議組件
├── data/               # 靜態資料
│   ├── citations.json # 引用知識庫
│   └── fixedParameters.ts # 固定參數
├── types/              # TypeScript 類型定義
├── utils/              # 工具函數
│   ├── calculations.ts # 計算邏輯
│   ├── export.ts       # 匯出功能
│   └── calculations.test.ts # 單元測試
└── App.vue             # 主應用程式
```

## 使用說明

### 操作流程

1. **基本資料**：輸入基地條件與參數
2. **建築面積試算**：自動計算總樓地板面積
3. **銷售面積試算**：計算可銷售面積
4. **成本費用**：輸入成本相關資訊
5. **評估報告**：查看核心指標與決策建議

### 參數類型

- **個案參數**：依基地基本資料輸入（基地面積、建蔽率、容積率等）
- **固定參數**：依法規或經驗值之固定值（機電上限 15%、梯廳上限 5%等）
- **變動參數**：假設性較高之參數（預估公設比、車位單位面積、折減係數）

## 功能特色

### 簡單直覺

- 單一路徑：從上到下填寫即可完成
- 少填少錯：能預設的都預設，必填欄位最少化
- 即時回饋：一改數值，右側立即更新關鍵結果摘要
- 錯誤提示：告訴使用者「哪個欄位」「為什麼」「怎麼改」

### 無資料庫設計

- 不使用任何資料庫
- 不使用登入/帳號
- 所有計算以獨立模組 pure functions 實作
- 引用庫為靜態檔案
- 成果保存以 PDF/Excel 匯出為主

## 開發規範

### 計算模組

所有計算邏輯位於 `src/utils/calculations.ts`，採用 pure functions 設計，便於測試與維護。

### 單元測試

至少 5 組單元測試覆蓋正常與邊界情境，位於 `src/utils/calculations.test.ts`。

## 授權

本專案為 MVP 版本，僅供參考使用。

## 聯絡資訊

如有問題或建議，歡迎提出 Issue。
